// Column chart with adjustable parameters, transparent background, and scroll animations
import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";import{useState,useEffect,useRef,startTransition}from"react";import{addPropertyControls,ControlType,useIsStaticRenderer}from"framer";import{useInView}from"framer-motion";/**
 * @framerSupportedLayoutWidth any-prefer-fixed
 * @framerSupportedLayoutHeight any-prefer-fixed
 */export default function ColumnChart(props){const{data=[{year:"2020",projects:15,color:"#0099FF"},{year:"2021",projects:25,color:"#8855FF"},{year:"2022",projects:35,color:"#FF5588"},{year:"2023",projects:28,color:"#22CC66"},{year:"2024",projects:42,color:"#FFBB00"}],backgroundColor,textColor,yearFont,projectFont,columnSpacing,showValues,chartHeight}=props;const containerRef=useRef(null);const isInView=useInView(containerRef,{once:true,margin:"-100px"});const isStatic=useIsStaticRenderer();const[animatedColumns,setAnimatedColumns]=useState([]);const maxProjects=Math.max(...data.map(item=>item.projects));// Animate columns one by one when in view
useEffect(()=>{if(isStatic){setAnimatedColumns(data.map(()=>true));return;}if(isInView){data.forEach((_,index)=>{setTimeout(()=>{startTransition(()=>{setAnimatedColumns(prev=>{const newState=[...prev];newState[index]=true;return newState;});});},index*200)// 200ms delay between each column
;});}},[isInView,data.length,isStatic]);return /*#__PURE__*/_jsxs("div",{ref:containerRef,style:{width:"100%",height:"100%",backgroundColor,display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative",overflow:"hidden"},children:[/*#__PURE__*/_jsx("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"center",gap:`${columnSpacing}px`,height:`${chartHeight}px`,width:"100%"},children:data.map((item,index)=>{const columnHeight=item.projects/maxProjects*100;const isAnimated=animatedColumns[index]||isStatic;return /*#__PURE__*/_jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,maxWidth:"120px",height:"100%",justifyContent:"flex-end"},children:/*#__PURE__*/_jsx("div",{style:{backgroundColor:item.color,width:"100%",height:isAnimated?`${columnHeight}%`:"0%",borderRadius:"4px 4px 0 0",position:"relative",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:showValues?"8px":"0",minHeight:item.projects>0&&isAnimated?"20px":"0",transition:isStatic?"none":"height 0.6s ease-out, min-height 0.6s ease-out",overflow:"hidden"},children:showValues&&isAnimated&&/*#__PURE__*/_jsx("span",{style:{...projectFont,color:"#FFFFFF",fontSize:"12px",fontWeight:"600",opacity:isAnimated?1:0,transition:isStatic?"none":"opacity 0.3s ease-out 0.3s"},children:item.projects})})},`${item.year}-${index}`);})}),/*#__PURE__*/_jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:`${columnSpacing}px`,width:"100%",marginTop:"16px"},children:data.map((item,index)=>/*#__PURE__*/_jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1,maxWidth:"120px"},children:[/*#__PURE__*/_jsx("span",{style:{...yearFont,color:textColor,marginBottom:"4px"},children:item.year}),!showValues&&/*#__PURE__*/_jsxs("span",{style:{...projectFont,color:textColor,opacity:.7},children:[item.projects," projects"]})]},`label-${item.year}-${index}`))})]});}addPropertyControls(ColumnChart,{data:{type:ControlType.Array,title:"Chart Data",control:{type:ControlType.Object,controls:{year:{type:ControlType.String,title:"Year",defaultValue:"2024"},projects:{type:ControlType.Number,title:"Projects",defaultValue:20,min:0,max:100,step:1},color:{type:ControlType.Color,title:"Color",defaultValue:"#0099FF"}}},defaultValue:[{year:"2020",projects:15,color:"#0099FF"},{year:"2021",projects:25,color:"#8855FF"},{year:"2022",projects:35,color:"#FF5588"},{year:"2023",projects:28,color:"#22CC66"},{year:"2024",projects:42,color:"#FFBB00"}],maxCount:8},backgroundColor:{type:ControlType.Color,title:"Background",defaultValue:"rgba(255, 255, 255, 0)"},textColor:{type:ControlType.Color,title:"Text Color",defaultValue:"#000000"},yearFont:{type:ControlType.Font,title:"Year Font",defaultValue:{fontSize:"14px",variant:"Semibold",letterSpacing:"-0.01em",lineHeight:"1em"},controls:"extended",defaultFontType:"sans-serif"},projectFont:{type:ControlType.Font,title:"Project Font",defaultValue:{fontSize:"12px",variant:"Medium",letterSpacing:"-0.01em",lineHeight:"1em"},controls:"extended",defaultFontType:"sans-serif"},columnSpacing:{type:ControlType.Number,title:"Column Gap",defaultValue:16,min:4,max:40,step:2,unit:"px"},showValues:{type:ControlType.Boolean,title:"Show Values",defaultValue:true,enabledTitle:"On Columns",disabledTitle:"Below Columns"},chartHeight:{type:ControlType.Number,title:"Chart Height",defaultValue:200,min:100,max:500,step:10,unit:"px"}});
export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"ColumnChart","slots":[],"annotations":{"framerSupportedLayoutHeight":"any-prefer-fixed","framerContractVersion":"1","framerSupportedLayoutWidth":"any-prefer-fixed"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./ColumnChart_1.map